<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kent9prod ‚Äî Portfolio & Vid√©os</title>
  <meta name="description" content="Le site de Kent9prod : derni√®res vid√©os, playlists et projets." />

  <style>
    :root{
      --bg:#f7f9fc;        /* fond clair */
      --panel:#ffffff;
      --muted:#5f6b78;
      --text:#0f1720;
      --accent:#0b72ff;
      --border:#e4e9ef;
      --radius:14px;
      --maxw:1080px;
    }

    *,*::before,*::after{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif; }
    img{ max-width:100%; display:block; }

    /* Liens (jamais de soulignement) */
    a{ color:inherit; text-decoration:none; }
    a:hover, a:focus{ color:var(--accent); text-decoration:none; }

    h1,h2,h3{ margin:0 0 .6rem; line-height:1.15; }
    p{ margin:.5rem 0 0; color:var(--muted); }

    .container{ width:100%; max-width:var(--maxw); margin:0 auto; padding:0 16px; }

    /* Header clair */
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter:saturate(160%) blur(10px);
      background:rgba(255,255,255,.75);
      border-bottom:1px solid var(--border);
    }
    .nav{ display:flex; align-items:center; justify-content:space-between; gap:10px; height:60px; }
    .brand{ font-weight:800; letter-spacing:.2px; }
    .nav a{ opacity:.85; }
    .nav a:hover{ opacity:1; color:var(--accent); }
    .nav-links{ display:flex; gap:14px; }

    /* Hero / banni√®re (avec fallback si image manquante) */
    .hero{
      margin:18px auto 24px;
      border:1px solid var(--border);
      border-radius:var(--radius);
      overflow:hidden;
      background: linear-gradient(135deg,#dbe7ff,#f2f5ff);
      min-height:200px;
    }
    .hero figure{ margin:0; position:relative; }
    .hero img{ width:100%; height:auto; display:block; }
    .hero .overlay{
      position:absolute; inset:auto 0 0 0;
      background:linear-gradient(180deg, transparent, rgba(255,255,255,.85));
      padding:18px;
      display:flex; justify-content:space-between; align-items:flex-end; gap:10px;
    }

    section{ margin:26px 0; }
    .card{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:16px;
      box-shadow: 0 8px 20px rgba(10,20,30,.04);
    }

    /* Embed YouTube */
    .yt-embed{ position:relative; width:100%; aspect-ratio:16/9; overflow:hidden; border-radius:12px; background:#000; border:1px solid var(--border); }
    .yt-embed iframe{ position:absolute; inset:0; width:100%; height:100%; }

    /* Grille 3 petites cartes pour la frise */
    .video-grid{
      display:grid;
      gap:16px;
      grid-template-columns: repeat(3, 1fr);
      margin-top:14px;
    }
    @media (max-width:900px){
      .video-grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width:560px){
      .video-grid{ grid-template-columns: 1fr; }
    }
    .video-card{
      background:#fff;
      border:1px solid var(--border);
      border-radius:12px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      transition:transform .15s, box-shadow .15s;
      box-shadow: 0 4px 12px rgba(15,23,32,.06);
    }
    .video-card:hover{
      transform:translateY(-2px);
      box-shadow:0 8px 18px rgba(15,23,32,.08);
    }
    .video-card .thumb{
      width:100%;
      aspect-ratio:16/9;
      background:#000;
    }
    .video-card .thumb img{ width:100%; height:100%; object-fit:cover; }
    .video-card .title{
      font-weight:600;
      font-size:1rem;
      padding:10px;
    }
    .video-card .meta{
      font-size:.9rem;
      color:var(--muted);
      padding:0 10px 10px;
    }

    /* Footer blocs */
    footer{ margin:40px 0; }
    .footer-grid{ display:grid; gap:20px; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); }
    .footer-block{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:12px;
      padding:16px;
      box-shadow: 0 4px 12px rgba(15,23,32,.06);
    }
    .footer-block h3{ margin-bottom:.4rem; font-size:1.1rem; }
    .footer-block p, .footer-block a{ font-size:.95rem; color:var(--muted); }
    .footer-block a:hover{ color:var(--accent); }
    .copyright{ margin-top:16px; text-align:center; color:var(--muted); font-size:.95rem; }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <nav class="nav">
        <div class="brand">KENT9PROD</div>
        <div class="nav-links">
          <a href="#videos">Vid√©os</a>
          <a href="#playlist">Playlist</a>
          <a href="#contact">Contact</a>
        </div>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Banni√®re (si ton fichier fallout.jpg n'existe pas, on verra le joli d√©grad√© clair) -->
    <div class="hero">
      <figure>
        <img src="fallout.jpg" alt="Banni√®re du site Kent9prod" onerror="this.style.display='none'">
        <figcaption class="overlay">
          <div>
            <h1>Kent9prod ‚Äî Gaming & Miniatures</h1>
            <small>Fallout ‚Ä¢ The Outer Worlds ‚Ä¢ Soulframe ‚Ä¢ &amp; plus</small>
          </div>
          <div>
            <a href="#videos" style="padding:10px 14px;border:1px solid var(--border);border-radius:10px;background:#fff;">Voir les vid√©os</a>
          </div>
        </figcaption>
      </figure>
    </div>

    <!-- Derni√®res vid√©os (3 petites cartes) -->
    <section id="videos" class="card">
      <h2>Derni√®res vid√©os</h2>
      <p>Les 3 plus r√©centes de la cha√Æne.</p>
      <div class="video-grid" id="videos-track" aria-live="polite">
        <div class="video-card">
          <div class="thumb"></div>
          <div class="title">Chargement‚Ä¶</div>
        </div>
      </div>
    </section>

    <!-- Playlist int√©gr√©e -->
    <section id="playlist" class="card">
      <h2>Playlist principale</h2>
      <div class="yt-embed" style="margin-top:10px;">
        <iframe 
          src="https://www.youtube.com/embed/videoseries?list=PLHbVCtNmmixGydzYg8EhKhbifCrI9aoiQ" 
          title="Playlist Kent9prod"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen>
        </iframe>
      </div>
    </section>

    <!-- Footer : 3 carr√©s + copyright -->
    <footer id="contact">
      <div class="footer-grid">
        <div class="footer-block">
          <h3>Me soutenir ‚ù§Ô∏è</h3>
          <p>
            Si tu souhaites me soutenir clique 
            <a href="https://streamelements.com/kent_fr/tip" target="_blank" rel="noopener">ici</a>.
          </p>
        </div>
        <div class="footer-block">
          <h3>Watch Time et Like üëçüèª</h3>
          <p>
            N'oublie pas de mettre un petit pouce en l'air et de regarder toute la vid√©o (le Watch Time aide √©norm√©ment).
          </p>
        </div>
        <div class="footer-block">
          <h3>En Live tous les jours ! ‚ö°</h3>
          <p>
            N'h√©site pas √† passer et √† participer dans le chat !
          </p>
        </div>
      </div>
      <div class="copyright">¬© 2025 Kent. Fait avec ‚ù§Ô∏è pour sa communaut√©.</div>
    </footer>
  </main>

  <!-- Scripts -->
  <script>
    // Ann√©e dynamique dans le footer si tu pr√©f√®res (sinon laisse 2025)
    // document.querySelector('.copyright').innerHTML =
    //   `¬© ${new Date().getFullYear()} Kent. Fait avec ‚ù§Ô∏è pour sa communaut√©.`;

    // Frise auto : 3 derni√®res vid√©os via flux RSS YouTube (proxy lecture seule)
    (async () => {
      const CHANNEL_ID = "UChcaGeb_yYslNd6F_RUVOTg";
      const feedURL = `https://r.jina.ai/http://www.youtube.com/feeds/videos.xml?channel_id=${CHANNEL_ID}`;

      const toDate = (iso) => {
        try {
          return new Date(iso).toLocaleDateString('fr-FR', { year:'numeric', month:'short', day:'2-digit' });
        } catch { return ""; }
      };

      try {
        const res = await fetch(feedURL);
        const text = await res.text();

        // Extraction robuste du XML (le proxy renvoie parfois du texte autour)
        const xmlText = (text.match(/<feed[\s\S]*<\/feed>/i) || [text])[0];

        const xml = new DOMParser().parseFromString(xmlText, "text/xml");
        if (xml.querySelector("parsererror")) throw new Error("Parse XML error");

        const entries = Array.from(xml.querySelectorAll("entry")).slice(0, 3);
        const track = document.getElementById("videos-track");
        track.innerHTML = "";

        if (!entries.length) {
          track.innerHTML = `<p>Aucune vid√©o trouv√©e pour le moment.</p>`;
          return;
        }

        entries.forEach(entry => {
          const title = entry.querySelector("title")?.textContent?.trim() || "Sans titre";
          const link = entry.querySelector("link")?.getAttribute("href") || "#";
          const published = entry.querySelector("published")?.textContent || "";
          const thumbEl = entry.querySelector('media\\:thumbnail, thumbnail, *[local-name()="thumbnail"]');
          const thumb = thumbEl ? thumbEl.getAttribute("url") : "";

          const a = document.createElement("a");
          a.className = "video-card";
          a.href = link;
          a.target = "_blank";
          a.rel = "noopener noreferrer";
          a.innerHTML = `
            <div class="thumb">${thumb ? `<img loading="lazy" src="${thumb}" alt="">` : ""}</div>
            <div class="title">${title}</div>
            <div class="meta">Publi√© le ${toDate(published)}</div>
          `;
          track.appendChild(a);
        });
      } catch (e) {
        console.error(e);
        const track = document.getElementById("videos-track");
        track.innerHTML = `
          <p>Impossible de charger la frise automatiquement.<br>
          <small>Actualise la page (Ctrl/Cmd+F5). Si besoin, je te fais un fallback statique.</small></p>`;
      }
    })();
  </script>
</body>
</html>
